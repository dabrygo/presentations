\documentclass{beamer}

\usepackage{color}
\usepackage{graphicx}
\usepackage{hyperref}
\usepackage{listings}
\usepackage{minted}


\title{IntroPy}
\subtitle{Strings}


\begin{document}
\frame{\titlepage}

%## Strings
%  * API
% * Formatting
%   * `%`
%   * `.format()`
%   * `f'{}'`
%   * template?
%   * Numbers
% * b''
% * r''
% * Unicode
% * str
% TODO Bytes in 2.7 is 'str' but 'bytes' in 3.6

%
% Properties
%
\begin{frame}
  \frametitle{Properties}
  \begin{itemize}
    \item Immutable
    \item Iterable
    \item Indexable
  \end{itemize}
\end{frame}


%
% Making a String
%
\begin{frame}
  \frametitle{Making a String}
  \begin{itemize}
    \item Single- or double-quotes
      \begin{itemize}
        \item \lstinline{'hello world'} 
	\item \lstinline{"hello world"}
      \end{itemize}

    \item Three-quote pairs for multiline text
%    \inputminted{python}{multiline.py}

    \item Special characters start with \textbackslash, e.g.: 
      \begin{itemize}
        \item ``\textbackslash n'' (newline)
	\item ``\textbackslash t'' (tab) 
      \end{itemize}

    \item \textbackslash \textbackslash~ escapes backslash 
      \begin{itemize}
        \item \lstinline{'C:\\\\Users'}
      \end{itemize}

    \item Lines are continued if there's nothing after \textbackslash 

 \end{itemize}
\end{frame}


%
% Capitalization TODO add casefold
%
\begin{frame}
  \frametitle{Case}
  Given \lstinline{car = 'Lightning McQueen from Cars'}
  \begin{table}
    \begin{tabular}{l | l | l}
    Function & Output & Test For \\
    \hline
    car.upper() & 'LIGHTNING MCQUEEN FROM CARS' & str.isupper() \\
    car.lower() & 'lightning mcqueen from cars' & str.islower() \\
    car.title() & 'Lightning Mcqueen From Cars' & str.istitle() \\
    car.capitalize() & 'Lightning mcqueen from cars' & N/A \\
    car.swapcase() & 'lIGHTNING mCqUEEN FROM cARS' & N/A
    \end{tabular}
  \end{table}
\end{frame}


%
% Padding 
%
\begin{frame}
  \frametitle{Padding}
  \textit{str.ljust(width[, fillchar]) -> str}
  \begin{table}
    \begin{tabular}{l | l}
    Function & Output \\
    \hline
    "7".zfill(3) & '007' \\
    "Python".ljust(1) & 'Python' \\
    "Python".ljust(12, '*') & 'Python******' \\
    "Python".rjust(12, '*') & '******Python' \\
    "Python".center(12, '*') & '***Python***' \\
    "Python".center(13, '*') & '****Python***'
    \end{tabular}
  \end{table}
\end{frame}


%
% Stripping
%
\begin{frame}
  \frametitle{Stripping}
  \lstinline{line = "\\t   hello world\\t\\t"}
  \textit{str.strip([chars])}
  \begin{table}
    \begin{tabular}{l | l}
    Function & Output \\
    \hline
    line.lstrip()     & \lstinline{"hello world\\t\\t"} \\
    line.rstrip()     & \lstinline{"\\t   hello world"} \\
    line.strip()      & \lstinline{"hello world"}       \\
    line.strip('\textbackslash t') & \lstinline{"   hello world"}
    \end{tabular}
  \end{table}
\end{frame}


%
% Division / TODO Joining
%
\begin{frame}
  \frametitle{Splitting and Joining}

  \textit{str.split(sep=None, maxsplit=-1) -> list of strings}

  \lstinline{names = 'Chapman Cleese\\tIdle      Palin'}

  \lstinline{csv = 'Chapman,Cleese,Idle,Palin'}

  \lstinline{lines = 'G Chapman\\nJ Cleese\\nE Idle\\nM Palin'}

  \lstinline{troupe = ['Chapman', 'Cleese', 'Idle', 'Palin']}
  
  \begin{table}
    \begin{tabular}{l | l}
    Function & Output \\
    \hline
    names.split() & ['chapman', 'cleese', 'idle', 'palin'] \\
    csv.split(sep=',') & ['chapman', 'cleese', 'idle', 'palin'] \\
    csv.split(sep=',', maxsplit=1) & ['chapman', 'cleese,idle,palin'] \\
    csv.rsplit(sep=',', maxsplit=2) & ['chapman,cleese', 'idle', 'palin'] \\
    lines.splitlines() & ['G Chapman', 'J Cleese', 'E Idle', 'M Palin'] \\
    \hline
    ','.join(troupe) & 'Chapman,Cleese,Idle,Palin'
    \end{tabular}
  \end{table}
\end{frame}


%
% Slicing
%
\begin{frame}
  \frametitle{Slicing}

  \lstinline{text = 'words'}

  \begin{enumerate}
    \item \lstinline{text[start:stop:step]} extracts a substring by indices
    \item Omitted arguments fall back to defaults

      \lstinline{text[0:len(text):1] == text[:::] == text}

    \item Negatives mean backward movement
    
      Reverse word: \lstinline{text[::-1] == 'sdrow'}

      Next to last letter: \lstinline{text[:-1] == 'word'}

      Next to last letter: \lstinline{text[-1] == 's'}

      Last three letters: \lstinline{text[-3:] == 'rds'}


  \end{enumerate}

\end{frame}

%
% Search
%
\begin{frame}
  \frametitle{Search}
  All have form \textit{str.search(substring[, start[, end]])}
  
  \lstinline{word = "floccinaucinihilipilification"}

  \begin{table}
    \begin{tabular}{l | l}
    Function & Output \\
    \hline
    word.count('i') & 9 \\
    word.count('in') & 2 \\
    word.count('i', 10) & 8 \\
    word.count('i', 0, 6) & 8 \\
    \hline
    word.startswith('f') & True \\
    word.endswith('N') & False \\
    \hline
    word.find('il') & 15 \\
    word.find('fjord') & -1 \\
    \hline
    word.index('il') & 15 \\
    word.index('fjord') & ValueError
   \end{tabular}
  \end{table}
\end{frame}


%
% Replace
%
\begin{frame}
  \frametitle{Replace}
  tab = '\\t'
  arthur = '1... 2... 5'
  song = 'apples and bananas'
  \begin{table}
    \begin{tabular}{l | l}
    Function & Output \\
    \hline
    tab.expandtabs() & '        ' \\
    tab.expandtabs(tabsize=2) & '  ' \\
    \hline
    arthur.replace('5', '3') & '1... 2... 3'\\
    arthur.replace('6', '3') & '1... 2... 5'\\
    arthur.replace('5', '3', 2) & '1... 2... 3'\\
    song.replace('a', 'oo') & 'ooples oond boonoonoos'\\
    song.replace('a', 'oo', 2) & 'ooples oond bananas'\\
    \hline
    % TODO
    str.maketrans('a', 'e') 
    str.translate()
    \hline
    % TODO
    str.encode()
   \end{tabular}
  \end{table}
\end{frame}


%
% Testing
%
\begin{frame}
  alnum = 'abc123'

  alpha = 'abc'

  decimal = '3.14'

  digit = '123'

  identifier = 'my\text_variable'

  numeric = '$\frac{1}{2}$'

  newline = '\textbackslash n'
  \frametitle{Testing}
  \begin{table}
    \begin{tabular}{l | l}
    Function & Output \\
    \hline
    alnum.isalnum() & True \\
    alpha.isalpha() & True \\
    decimal.isdecimal() & True \\
    digit.isdigit() & True \\
    identifier.isidentifier() & True \\
    numeric.isnumeric() & True \\
    newline.isprintable() & False \\
    newline.isspace() & True 
   \end{tabular}
  \end{table}
\end{frame}


%
%
%
\begin{frame}
  \frametitle{Formatting}
\end{frame}

%
% format() built-in
%
\begin{frame}
  \frametitle{Formatting Values} 
\end{frame}


%
% Leading Letters
%
\begin{frame}
  \frametitle{Letters Before Strings}
  \begin{itemize}
    \item Unicode (Python 2)
      \begin{itemize}
        \item Strings are unicode by default in Python 3
        \item Ex.: \lstinline{u'string'}
      \end{itemize}

    \item Bytes
      \begin{itemize}
        \item An unencoded sequence of bytes
        \item Ex.: \lstinline{b'string'}
      \end{itemize}

    \item Raw
      \begin{itemize}
	\item Don't have to escape \textbackslash
        \item Ex.: \lstinline{r'C:\\Users'}
      \end{itemize}

    \item Format (Python 3.6) 
      \begin{itemize}
	\item Can refer to variables in-string
        \item Ex.: \lstinline{name = 'Daniel'; print(f"Hello, \{name\}")}
      \end{itemize}
    \end{itemize}
  \end{frame}

%
% Ways to Format
%
\begin{frame}
  \frametitle{Formatting Variables}
  \begin{itemize}
    \item C-Style
      \begin{itemize}
        \item \% places a new variable in a string
	\item Letter means variable's type
	\item Values between specify length
        \item Ex.: \lstinline{"\%s are \%.2f" \% (item, cost)}
      \end{itemize}

    \item Positional
      \begin{itemize}
        \item Sets of brackets place a new variable in a string
	\item Variables placed in \texttt{str.format} argument order
	\item Values after (optional) colon specify length
        \item Ex.: \lstinline{"\{\} are \{:.2\}".format(item, cost)}
	\item If temporary names given, order arbitrary
        \item Ex.: \lstinline{"\{x\} are \{y:.2\}".format(x=item, y=cost)}
        \item Ex.: \lstinline{"\{item\} are \{cost:.2\}".format(cost=cost, item=item)}
       \end{itemize}

    \item Format String (Python 3.6) 
      \begin{itemize}
        \item Ex.: \lstinline{f'\{item\} are \{cost:.2\}'}
      \end{itemize}
    \end{itemize}
  \end{frame}
\end{document}
